<!--
 * @Author       : Jia Zeng
 * @LastEditTime : 2021-05-21 6:56 PM
-->

<!DOCTYPE html>
<html lang="zh-cmn" dir="ltr">

  <head>
    <meta charset="UTF-8">
    <title>原神地图</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    <meta name="theme-color" content="#ffffff" />
    <meta name="msappdivcation-navbutton-color" content="#ffffff" />
    <meta name="apple-mobile-web-app-status-bar-style" content="lack-translucent" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Genshin Map">
    <meta name="format-detection" content="telephone=no" />
    <meta name="google" value="notranslate">
    <meta name="keywords" content="原神地图,原神地図,原神地图工具,全资源攻略地图,空荧酒馆,原神資源地圖,Genshin Map,Genshin Impact Map" />
    <meta name="description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
    <!-- Open Graph -->
    <meta property="fb:app_id" content="3340670332825887" />
    <meta property="og:url" content="https://yuanshen.site/" />
    <meta property="og:title" content="原神地图" />
    <meta property="og:site_name" content="Genshin Impact Map" />
    <meta property="og:description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
    <meta name="twitter:widgets:csp" content="on">
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@yuanshen_site" />
    <meta name="twitter:image:src" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
    <meta name="twitter:creator" content="@yuanshen_site" />
    <meta property="twitter:url" content="https://yuanshen.site/" />
    <meta property="twitter:type" content="website" />
    <meta property="twitter:title" content="原神地图" />
    <meta property="twitter:description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
    <meta property="twitter:image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
    <meta property="url" content="https://yuanshen.site/" />
    <meta property="type" content="website" />
    <meta property="title" content="原神地图" />
    <meta property="description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
    <meta property="image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
    <meta itemprop="name" content="原神地图" />
    <meta itemprop="description" content="米游社空荧酒馆制作的原神全资源攻略地图。" />
    <meta itemprop="image" content="https://yuanshen.site/tiles_test/4/ppp10_9.jpg" />
    <!-- Open Graph -->
    <meta http-equiv="refresh" content="4; url='https://yuanshen.site/index.html'">
    <link rel="alternate" href="https://yuanshen.site/" hreflang="x-default" />
    <link rel="canonical" href="https://yuanshen.site/" />
    <link rel="shortcut icon" href="https://yuanshen.site/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="https://yuanshen.site/favicon.ico" sizes="120x120" />
    <!-- Auto Polyfill -->
    <script crossOrigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js"></script>
    <link rel="stylesheet" href="./css/global.min.css">
    <link rel="stylesheet" href="./css/loading/loading.css">
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({
          'gtm.start':
            new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-5H6V3NB');</script>
    <!-- End Google Tag Manager -->
    <script>
      // 该页面的全局配置
      const globalConfig = {
        theme: {
          themeList: ["dark", "light"], // 主题列表
          defaultTheme: "light", // 默认主题
        },
        resourceReloadingData: 'data/preload.json', // 资源预加载的数据url
        supportLocale: 'data/support-locale.json',
        maxOverTime: 2500, // 最大延迟[ms] ( 即强制自动重定向的时间, 默认为资源预加载完成后
        loadingBarContainer: '.loading-default', // loadingBar 挂载容器的选择器
      };
    </script>
    <script type="application/ld+json">
      [{
        "@context": "https://schema.org",
        "@type": "Organization",
        "url": "https://yuanshen.site",
        "logo": "https://yuanshen.site/tiles_test/4/ppp10_9.jpg"
      },
      {
        "@context": "https://schema.org/",
        "@type": "WebPage",
        "name": "Genshin Map",
        "author": {
          "@type": "Organization",
          "name": " Kongying"
        },
        "datePublished": "2021-05-08"
      },
      {
        "@context": "https://schema.org/",
        "@type": "ImageObject",
        "url": "https://yuanshen.site",
        "license": "https://yuanshen.site/disclaimer_en.html",
        "acquireLicensePage": "https://yuanshen.site/disclaimer_en.html"
      }]
    </script>
  </head>

  <body data-theme="light">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5H6V3NB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <noscript>
      <p>(:</p>
      <p>We're sorry but</p>
      <p>This page requires JavaScript to work properly</p>
    </noscript>
    <nav style="display: none;">
      <a href="https://yuanshen.site/index.html">index.html</a>
      <a href="https://yuanshen.site/index_en.html">index_en.html</a>
      <a href="https://yuanshen.site/index_jp.html">index_jp.html</a>
      <a href="https://yuanshen.site/choose-country-region.html">choose-country-region.html</a>
      <a href="https://yuanshen.site/main.html">main.html</a>
      <a href="https://yuanshen.site/main_en.html">main_en.html</a>
      <a href="https://yuanshen.site/main_jp.html">main_jp.html</a>
    </nav>
    <div class="wrapper" id="app">
      <div class="loading">
        <!-- 默认加载动画 -->
        <div class="loading-default">
          <img src="./imgs/loading-bar.png" alt="Loading...">
        </div>
        <!-- 移动端加载动画 -->
        <div class="loading-mobile">
          <ul class="rotate">
            <li class="item"></li>
            <li class="item"></li>
            <li class="item"></li>
            <li class="item"></li>
            <li class="item"></li>
          </ul>
          <h2 id="loading-text">Loading ...</h2>
        </div>
        <p class="loading-tips" id="loading-tips">
          自动跳转页
        </p>
      </div>
    </div>
    <script>
      if (!window.fetch) window.location.href = "https://support.qq.com/products/321980/faqs/94046";
    </script>
    <script>
      const lang = (() => {
        if (!navigator.language || /^(yue|zh)(-cn|-hans(-[a-z]+)?)?$/i.test(navigator.language)) {
          return ["原神地图", "加载中"]
        } else if (navigator.language.startsWith("zh") || navigator.language.startsWith("yue")) {
          return ["原神地圖", "加載中"]
        } else if (navigator.language.startsWith("ja") || navigator.language.startsWith("jp")) {
          return ["原神地図", "読み込み中"]
        } else {
          return ["Genshin Map", "Loading"];
        }
      });
      const str = lang();
      document.getElementById("loading-tips").innerText = `「${str[0]}」`;
      document.getElementById("loading-text").innerText = str[1] + "...";
      document.title = str[0];
    </script>
    <script src="./js/fetch.js"></script>
    <script src="./js/utils.cjs.js"></script>
    <script src="./js/module.js"></script>
    <script>
      ; (async function () {
        window.isDevelopmentMode = document.domain !== "yuanshen.site";
        const myResourceReloading = new ResourceReloading(globalConfig.resourceReloadingData);
        const myLoadingBar = new LoadingBar(globalConfig.loadingBarContainer);
        const myDynamicTheme = new DynamicTheme(globalConfig.theme.themeList);
        const mySupportLocale = await request(globalConfig.supportLocale).catch(error => alert(error));
        const { link } = utils.getSupperLocale(mySupportLocale.support, globalConfig.defaultLanguage);

        document.documentElement.oncontextmenu = (e) => e.preventDefault();
        myLoadingBar.start();
        myResourceReloading.init().then(res => setTimeout(() => replace(), 1000));
        setTimeout(() => replace(), globalConfig.maxOverTime);

        function replace() {
          myLoadingBar.finish();
          setTimeout(() => document.location.replace(`https://yuanshen.site/${link}?locale=${utils.getUserLanguage()}`), 500);
        }

        utils.log(
          "原神地图", "自动跳转页",
          [{ pageVersion: "1.4.0", author: "(*^_^*)", lastEditTime: "2021-5-8" }]
        );
      })();
    </script>
  </body>

</html>
